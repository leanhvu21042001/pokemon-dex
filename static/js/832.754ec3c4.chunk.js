"use strict";(self.webpackChunkpokemon_dex=self.webpackChunkpokemon_dex||[]).push([[832],{832:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(907);var i=t(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=t(8683),u=t(885),c=t(2005),l=t(2791),s=t(3306);var d=t(5748),f=t(3504),A=t(5677),v=t(184);function p(e){var n,t,r,i,o=e.pokemon,a=(0,l.useState)(null),c=(0,u.Z)(a,2),p=c[0],m=c[1],h=(0,l.useContext)(d.G).handleErrorFetchData;return(0,l.useEffect)((function(){var e="".concat(null===o||void 0===o?void 0:o.url).match(/\/\d+\//g).join("").replaceAll("/","").trim();s.Z.getOnePokemon(e).then((function(e){m(e)})).catch((function(){h()}))}),[o]),(0,v.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 mt-4",children:(0,v.jsxs)("div",{className:"card card-pokemon",children:[null!==p&&void 0!==p&&null!==(n=p.sprites)&&void 0!==n&&n.frontDefault&&null!==p&&void 0!==p&&null!==(t=p.sprites)&&void 0!==t&&t.backDefault?(0,v.jsx)("img",{src:"".concat((null===p||void 0===p||null===(r=p.sprites)||void 0===r?void 0:r.frontDefault)||(null===p||void 0===p||null===(i=p.sprites)||void 0===i?void 0:i.backDefault)),className:"card-img-top",alt:"".concat(null===p||void 0===p?void 0:p.name)}):(0,v.jsx)("img",{src:A,className:"img-fluid",alt:null===o||void 0===o?void 0:o.name}),(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h5",{className:"card-title",children:null===p||void 0===p?void 0:p.name}),(0,v.jsxs)("p",{className:"card-text",children:[(0,v.jsx)("b",{children:"Types"}),": ",null===p||void 0===p?void 0:p.types]}),(0,v.jsx)("div",{className:"d-flex justify-content-end",children:(0,v.jsx)(f.rU,{to:"/detail/".concat(null===p||void 0===p?void 0:p.id),className:"btn btn-purple",children:"Detail"})})]})]})})}var m="search_by_name",h="search_by_type";function y(){var e=(0,l.useState)(""),n=(0,u.Z)(e,2),t=n[0],r=n[1],i=(0,l.useState)({type:m}),f=(0,u.Z)(i,2),A=f[0],y=f[1],x=(0,l.useContext)(d.G).handleErrorFetchData,k=(0,l.useState)([]),b=(0,u.Z)(k,2),g=b[0],Z=b[1],j=(0,l.useState)([]),w=(0,u.Z)(j,2),q=w[0],S=w[1],N=(0,l.useState)(0),T=(0,u.Z)(N,2),V=T[0],E=T[1],K=function(){var e=(0,l.useState)(0),n=(0,u.Z)(e,2),t=n[0],r=n[1];return(0,l.useLayoutEffect)((function(){function e(){r(window.pageYOffset)}return window.addEventListener("scroll",e),e(),function(){return window.removeEventListener("scroll",e)}}),[]),t}(),O=(0,l.useRef)();(0,l.useEffect)((function(){var e=O.current.offsetHeight;K+window.innerHeight>e&&K>0&&e>0&&E((function(e){return e+20}))}),[K]),(0,l.useEffect)((function(){s.Z.getPokemonWithLimit(0,1118).then((function(e){var n=e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:(0,c.x0)(5)})}));Z(n)})).catch((function(){x()}))}),[]),(0,l.useEffect)((function(){var e=g.slice(V,V+20);S((function(n){return[].concat(o(n),o(e))}))}),[g,V]);return(0,v.jsxs)("div",{className:"container",children:[(0,v.jsx)("h1",{className:"text-center mb-5",id:"logo-page",children:"Pokemon Dex"}),(0,v.jsx)("form",{id:"form-search",className:"mb-5",onSubmit:function(e){if(e.preventDefault(),t.trim().length>0){if(A.type===m){var n=g.filter((function(e){return e.name.trim().includes("".concat(t).trim())}));S(n)}A.type===h&&s.Z.searchPokemonByType(t).then((function(e){var n=e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:(0,c.x0)(5)})}));S(n)})).catch((function(){x()}))}},children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-10",children:[(0,v.jsx)("label",{htmlFor:"search-pokemon",className:"form-label",children:"Search"}),(0,v.jsx)("input",{type:"text",className:"form-control",id:"search-pokemon","aria-describedby":"search-pokemon",onChange:function(e){if(r(e.target.value),""===e.target.value.trim()){var n=g.slice(0,20);S(n)}}})]}),(0,v.jsx)("div",{className:"col-2 d-flex align-items-end",children:(0,v.jsxs)("select",{className:"form-select","aria-label":"Default select example",defaultValue:m,onChange:function(e){return y({type:e.target.value})},children:[(0,v.jsx)("option",{value:m,children:"Name"}),(0,v.jsx)("option",{value:h,children:"Type"})]})})]})}),(0,v.jsx)("div",{className:"row mb-5",id:"list-of-pokemon",ref:O,children:q.map((function(e){return(0,v.jsx)(p,{pokemon:e},null===e||void 0===e?void 0:e.id)}))})]})}},3306:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(8683),i=t(5861),o=t(5671),a=t(3144),u=t(7757),c=t.n(u),l=t(4569),s=t.n(l),d=t(2005);function f(e){var n=e;if(!n)return n;if("object"===typeof e)if(e instanceof Array)n=e.map(f);else for(var t in n={},e){if(e.hasOwnProperty(t))n[t.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))]=f(e[t])}return n}var A=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"getOnePokemon",value:function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get("https://pokeapi.co/api/v2/pokemon/".concat(n,"/")).then((function(e){return e.data})).then((function(e){var n=Object.values(null===e||void 0===e?void 0:e.types).map((function(e){return e.type.name}));return e.types=n.join(", ")+".",e.weight=(null===e||void 0===e?void 0:e.weight)/10,e.height=(null===e||void 0===e?void 0:e.height)/10,e.abilities=null===e||void 0===e?void 0:e.abilities.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:(0,d.x0)(5)})})),e.stats=null===e||void 0===e?void 0:e.stats.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:(0,d.x0)(5)})})),f(e)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getEvolutionChain",value:function(){var e=(0,i.Z)(c().mark((function e(n){var t,r,i,o,a,u,l,A,v,p,m,h,y,x,k,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get(n);case 2:return A=e.sent,e.next=5,s().get("".concat(null===(t=f(A.data).evolutionChain)||void 0===t?void 0:t.url));case 5:return v=e.sent,p=f(null===v||void 0===v?void 0:v.data).chain,m=p.species.name,h=p.species.url,y=null===(r=p.evolvesTo[0])||void 0===r?void 0:r.species.name,x=null===(i=p.evolvesTo[0])||void 0===i?void 0:i.species.url,k=null===(o=p.evolvesTo[0])||void 0===o||null===(a=o.evolvesTo[0])||void 0===a?void 0:a.species.name,b=null===(u=p.evolvesTo[0])||void 0===u||null===(l=u.evolvesTo[0])||void 0===l?void 0:l.species.url,e.abrupt("return",[{id:(0,d.x0)(5),name:m,url:h},{id:(0,d.x0)(5),name:y,url:x},{id:(0,d.x0)(5),name:k,url:b}]);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getAbilityOfPokemon",value:function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(n).then((function(e){return f(e.data).effectEntries.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:(0,d.x0)(5)})}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getPokemonWithLimit",value:function(){var e=(0,i.Z)(c().mark((function e(){var n,t,r,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,t=i.length>1&&void 0!==i[1]?i[1]:20,r="https://pokeapi.co/api/v2/pokemon?offset=".concat(n,"&limit=").concat(t),e.abrupt("return",s().get(r).then((function(e){var n;return null===(n=e.data)||void 0===n?void 0:n.results})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"searchPokemonByType",value:function(){var e=(0,i.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.toString().trim(),e.abrupt("return",s().get("https://pokeapi.co/api/v2/type/").then((function(e){return e.data.results})).then((function(e){return e.filter((function(e){return e.name.trim().includes(t)}))})).then((function(e){var n;return s().get("".concat(null===(n=e[0])||void 0===n?void 0:n.url)).then((function(e){return e.data})).then((function(e){return null===e||void 0===e?void 0:e.pokemon.map((function(e){return e.pokemon}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),v=new A},5677:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARQAAAEUBAMAAAAYXtRKAAAAG1BMVEX///8AAADf39+/v79/f38/Pz9fX1+fn58fHx9/TZNAAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE8ElEQVR4nO2YzXPTRhiHF8m2OOZt/KGjPZAJRzsplGMMNHCM29rlGLVJyjECpu3RInTgz+5+vO9q5Uiy6bSUGX7PTGLvavXus59aWSkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8HVA6//bwAOVOqBSB1TqgEodUKnja1S5d6T/fbtc/jYu8w5Pl6vnPl2qHB9Jgavl1esgQHK5fGoTvy9Xkq+J3l4uLyQdHeuIkY78tEkl76soI81gKlmPTJKG4uJVenTjvjy0BX70ATom+YP+/qf5ciJxYhuXfnGpRF+IF8GNdSo5pavLgoa+RhpcXRL1N1SixcDZHRCtrl4RnUuABa1eUjrWd6ZXCxpI6MyUW4ibUcl05JeB7KZKx3aAbsKZy1nQrypMi8pjrjsuUtPp99k973dN7Ie62ML07Fxq6tLQdPQjdtMqB/TB9qk08pZK7hobF0OOcMM1DioqiUSYsNIDV2fez/ZtC0YdeyGhb7hJ6ZSbcObuf8I1zGlcrzLkyDq0vXWejiV9EqpkxJOJA6qosHXmA3dhkk7chcwpd+idlOs7le85YK9hhHI/tomtM5ZGqYi/OZUDidyRgdOtcAFGXEHhLsxS9+HbPrHfEipGEnjdoCJVq8V+VXk+LFWiguesuiu9o4dybAOccUv4wl2yH5mfETJwPnLhq9xQ8VXbVk7IX7rj2mVVZr5Y7ldIQtc2gDOIpXu7NiOiPR/ItjahVNLZqEFlXFatfFcYuIOMSof83WWcyLY2lxqkSM8admQKKu6ghPZ9nfVLqGykjjHlUXLEruuNSpb6DTDo3WKtZMYobruVMCpdP466SwdKpqJLl82tqJTZNkZQE08v/f/A7qVco4+oFnthgGJPwpwoM2PGvtwktSoy3XdQSXSfVma306K1bDmGuIyo7IZySyWxKhM/M1grKUdsslUl1oXDmniwaB1MbVtImLeozMqBd4P1SSqR1ghrcq1W1C8nnIn48x9CW6+Eg9DbVAk0m1WSiopdE0Sy/7qKAkbNKnlF5foTVcyMrFUJN+rPo9LUKzfBrOWK6gL82yq10/ZB4FeZTC0qrdN2q0rjCvKHJlVdzP+diolRu6/oHn4nebceq/9kX9mq0rzb6kNMufGXj7k2lZrddqtKmW0f+sFTk282Kkn5OAweUm0q7qEYFNlBpbS38kEvdV20jUPCfGOrbFAJl+JitKOK1KHm5tl9J1BzRxd3uPMLerJxMm1QUeWRzB1ddlHxB0g7TXrlHVlwitMnXV45vY3V3KSS+d7r8Sluu4ps6+6OyD9wYl42TsUv6Iiqk6VJZeIPLDNbwy7TtuCzyDxlNw4x44nHq9cv6Dw4FLWo+FNb7Kb8Lot55hZqh2/t8WJJ5HVRNpI5K/T8K9Vxm4p+W7lm9fNdVRIa6Le9+4Wsvozej236vKriF7QuYKQOX/VbVfRr6xM9ni+4STttcY+JPhYk7+YqKVz6g6qq+MVmCvy1LPitulHFvMynH/Xf9e4q7geA9z6rU1TSXsUv6MT+IEA/TdtV1AtTKj2R7F1U1OGzizdBXvT29Nnr2tJS4LvTi+fTthIOHbf8nWYr+XB7mc8EVOqASh1QqQMqdUClji9I5d7R9jIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgC+JvwE7TQlpRc50TAAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=832.754ec3c4.chunk.js.map